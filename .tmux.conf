
# --------------------------------------------------------------------
# tmux/sensible
# --------------------------------------------------------------------

# Reload config
bind-key R source-file ~/.tmux.conf \; display-message "ok"

# Address vim mode switching delay (http://superuser.com/a/252717/65504)
set -s escape-time 0

# Increase scrollback buffer size from 2000 to 50000 lines
set -g history-limit 50000

# Increase tmux messages display duration from 750ms to 4s
set -g display-time 4000

# Refresh 'status-left' and 'status-right' more often, from every 15s to 5s
set -g status-interval 5

# Upgrade $TERM
set -g default-terminal "screen-256color"

# Set true color
set-option -sa terminal-overrides ",xterm*:Tc"

# Improve colors (fix VIM issues)
set -g default-terminal "xterm-256color"
set -ga terminal-overrides ",*256col*:Tc"

# Focus events enabled for terminals that support them
set -g focus-events on

# Super useful when using "grouped sessions" and multi-monitor setup
#setw -g aggressive-resize on

# --------------------------------------------------------------------
# general
# --------------------------------------------------------------------

# Disable mouse support
set-option -g mouse off

# Start window numbers at 1
set -g base-index 1
set -g pane-base-index 1
set-window-option -g pane-base-index 1
set -g renumber-windows on
setw -g automatic-rename off

# Set prefix
unbind C-b
unbind C-a
set -g prefix C-a
bind C-a send-prefix

# Set vi-mode
set-window-option -g mode-keys vi
# keybindings
bind-key -T copy-mode-vi 'v' send -X begin-selection
bind-key -T copy-mode-vi 'C-v' send -X rectangle-toggle
bind-key -T copy-mode-vi 'y' send -X copy-selection-and-cancel
#bind-key -T copy-mode-vi Escape send -X cancel

# Other keybindings
# easier tmux pane creation
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# pane resizing
bind -r H resize-pane -L 2
bind -r J resize-pane -D 2
bind -r K resize-pane -U 2
bind -r L resize-pane -R 2

# buffers
#bind b list-buffers
#bind p paste-buffer -p
#bind P choose-buffer

# --------------------------------------------------------------------
# Customizing status and colors
# --------------------------------------------------------------------

# copied from nicholas-long/pen-test-environ/blob/main/tmux.conf
# and he copied from tony/tmux-config/blob/master/.tmux.conf
set-option -g status-style bg=colour235,fg=colour136,default
# default window title colors
set-window-option -g window-status-style fg=colour244,bg=default,dim 
# active window title colors
set-window-option -g window-status-current-style fg=colour166,bg=default,bright 
# pane border
set-option -g pane-border-style fg=colour244
set-option -g pane-active-border-style "fg=colour214 bg=colour214"
set-option -g pane-active-border-style "fg=colour166 bg=colour166"

# message text
set-option -g message-style bg=colour235,fg=colour166 # bg=base02, fg=orange

# pane number display
set-option -g display-panes-active-colour colour33 #blue
set-option -g display-panes-colour colour166 #orange
# clock
set-window-option -g clock-mode-colour green #green

set -g status-interval 1
set -g status-justify centre # center align window list
set -g status-left-length 20
set -g status-right-length 140
set -g status-left "#[bg=colour241,fg=colour248] #S "
set -g status-right "#[bg=colour239,fg=colour246] %Y-%m-%d #[bg=colour237,fg=colour239]|#[bg=colour239,fg=colour246] %H:%M"

# enable "highlighting" the active window by changing its background
set -g window-style bg=black
set -g window-active-style bg=colour235

# --------------------------------------------------------------------
# tmux-plugins/tpm 
# --------------------------------------------------------------------

set -g @plugin 'tmux-plugins/tpm'
#set -g @plugin 'tmux-plugins/tmux-resurrect'
#set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-sessionist'
set -g @plugin 'tmux-plugins/tmux-sidebar'
set -g @plugin 'christoomey/vim-tmux-navigator'
set -g @plugin 'sainnhe/tmux-fzf'
#set -g @plugin 'catppuccin/tmux'
#set -g @catppuccin_window_tabs_enabled on # or off to disable window_tabs
# ---

# Initialize tmux plugin manager
# (keep this line at the very bottom of ~/.tmux.conf
run '~/.tmux/plugins/tpm/tpm'
